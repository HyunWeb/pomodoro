<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>myPage</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/static/css/reset.css" />
    <link rel="stylesheet" href="/static/css/navbar.css" />
    <link rel="stylesheet" href="/static/css/myPage.css" />
    <script src="/static/js/navbar.js"></script>
  </head>
  <body>
    <header>
      <%- include("./shared/navbar") %>
      <a href="/" class="logo"
        ><img width="158" src="/static/img/logo.png" alt="로고 이미지"
      /></a>
    </header>
    <main>
      <section>
        <img src="/static/img/profile.png" alt="프로필 이미지" width="150px" />
        <h2>user_id</h2>
        <h3>홍길동</h3>
      </section>
      <section>
        <article class="feed-info">
          <span>올린피드</span>
          <span><span class="feed-count">05</span> 개</span>
        </article>
        <article class="button-grid">
          <button>수집한 토마토 <span class="tomato-count">10</span></button>
          <button>좋아요 누른 피드 <span class="like-count">10</span></button>
          <button>완료한 일정 <span class="done-count">10</span></button>
          <button>미흡했던 일정 <span class="ongoing-count">3</span></button>
        </article>
        <article class="study-success">
          <span class="study-label">내 공부 성공률은?</span>
          <span class="stydy-percentage">90%</span>
        </article>
        <figcaption>
          이번 주 학습 시간 분석
          <canvas id="myChart"></canvas>
        </figcaption>
      </section>
    </main>

    <script>
      const ctx = document.getElementById("myChart");

      new Chart(ctx, {
        type: "line",
        data: {
          labels: ["월", "화", "수", "목", "금", "토", "일"],
          datasets: [
            {
              label: "공부 시간",
              data: [1, 3, 2, 5, 3, 4, 2],
              borderWidth: 2,
              borderColor: Utils.CHART_COLORS.red,
              backgroundColor: Utils.transparentize(
                Utils.CHART_COLORS.red,
                0.5
              ),
              pointStyle: "circle",
              pointRadius: 10,
              pointHoverRadius: 15,
              tension: 0.4,
              pointBackgroundColor: "#DA2337",
              pointBorderColor: "#DA2337",
            },
          ],
        },
        options: {
          responsive: true, // 반응형
          plugins: {
            legend: {
              display: false, // 범례(라벨) 숨기기
            },
          },
          scales: {
            x: {
              grid: {
                display: false,
              },
            },
            y: {
              beginAtZero: true,
              max: 7,
              grid: {
                display: false,
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
